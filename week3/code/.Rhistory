NoPreallocFun <- function(x){
a <- vector() # empty vector
for (i in 1:x){
a <- c(a, i)
print(a)
print(object.size(a))
}
}
system.time(NoPreallocFun(10))
PreallocFun <- function(x){
a <- rep(NA, x) # pre-allocated vector
for (i in 1:x){
a[i] <- i
print(a)
print(object.size(a))
}
}
system.time(PreallocFun(10))
## Build a random matrix
M <- matrix(rnorm(100), 10, 10)
## Take the mean of each row
RowMeans <- apply(M, 1, mean)
print(RowMeans)
RowVars <- apply(M, 1, var)
print(RowVars)
## By column
ColMeans <- apply(M, 2, mean)
print(ColMeans)
SomeOperation <- function(v){ # (What does this function do?)
if (sum(v) > 0){ #note that sum(v) is a single (scalar) value
return (v * 100)
}
return (v)
}
M <- matrix(rnorm(100), 10, 10)
print(apply(M, 1, SomeOperation))
getwd()
setwd("~/Documents/CMEECourseWork/week3/code")
source("sample.R")
source("Ricker.R")
source("browse.R")
doit <- function(x){
temp_x <- sample(x, replace = TRUE)
if(length(unique(temp_x)) > 30) {#only take mean if sample was sufficient
print(paste("Mean of this sample was:", as.character(mean(temp_x))))
}
else {
stop("Couldn't calculate mean: too few unique values!")
}
}
set.seed(1345) # again, to get the same result for illustration
popn <- rnorm(50)
hist(popn)
lapply(1:15, function(i) doit(popn))
doit <- function(x){
temp_x <- sample(x, replace = TRUE)
if(length(unique(temp_x)) > 30) {#only take mean if sample was sufficient
print(paste("Mean of this sample was:", as.character(mean(temp_x))))
}
else {
stop("Couldn't calculate mean: too few unique values!")
}
}
set.seed(1345) # again, to get the same result for illustration
popn <- rnorm(50)
hist(popn)
#lapply(1:15, function(i) doit(popn))
result <- lapply(1:15, function(i) try(doit(popn), FALSE))
class(result)
class(result)
result
result <- vector("list", 15) #Preallocate/Initialize
for(i in 1:15) {
result[[i]] <- try(doit(popn), FALSE)
}
source("try.R")
source("try.R")
source("Data")
source("DataWrang.R")
source("DataWrang.R")
source("Girko.R")
source("MyBars.R")
source("MyLinReg.pdf")
source("plotLin.R")
