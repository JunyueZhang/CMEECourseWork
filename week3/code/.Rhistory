setwd("~/Documents/CMEECourseWork/week3/code")
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv") # import csv data to a data frame
require(tidyverse) # load the tidyverse package
dplyr::glimpse(MyDF) # inspect and explore data
MyDF$Type.of.feeding.interaction <- as.factor(MyDF$Type.of.feeding.interaction) # change the type to factor
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfrow = c(5, 1))
for (i in MyDF$Type.of.feeding.interaction){
plotDF <- subset(MyDF, Type.of.feeding.interaction == i)
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "lightblue", border = "pink", main = 'Predator') # Add title
}
dev.off() # close the graphic window
par(mfcol=c(5,1)) #initialize multi-paneled plot
MyDF$Type.of.feeding.interaction
plotDF <- subset(MyDF, Type.of.feeding.interaction == i)
plotDF <- subset(MyDF, Type.of.feeding.interaction == "piscivorous")
plotDF
par(mfg = c(1,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "lightblue", border = "pink", main = 'Predator') # Add title
MyDF$Type.of.feeding.interaction
levels(MyDF$Type.of.feeding.interaction)
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(5,1)) #initialize multi-paneled plot
par(mfg = c(1,1))
FirstDF <- subset(MyDF, Type.of.feeding.interaction == "insectivorous")
hist(log10(FirstDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "blue", main = "Type of feeding interaction: insectivorous") # Add title
par(mfg = c(2,1))
SecondDF <- subset(MyDF, Type.of.feeding.interaction == "piscivorous")
hist(log10(SecondDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "green", main = "Type of feeding interaction: piscivorous") # Add title
par(mfg = c(3,1))
ThirdDF <- subset(MyDF, Type.of.feeding.interaction == "planktivorous")
hist(log10(ThirdDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "red", main = "Type of feeding interaction: planktivorous") # Add title
par(mfg = c(4,1))
FourthDF <- subset(MyDF, Type.of.feeding.interaction == "predacious")
hist(log10(FourthDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "yellow", main = "Type of feeding interaction: predacious") # Add title
par(mfg = c(5,1))
FifthDF <- subset(MyDF, Type.of.feeding.interaction == "predacious/piscivorous")
hist(log10(FifthDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = "Type of feeding interaction: predacious/piscivorous") # Add title
dev.off() # close the graphic window
MyDF$Type.of.feeding.interaction
class(MyDF$Type.of.feeding.interaction)
levels(MyDF$Type.of.feeding.interaction)
class(levels(MyDF$Type.of.feeding.interaction))
levels(MyDF$Type.of.feeding.interaction)[1]
levels(MyDF$Type.of.feeding.interaction)[5]
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
for (i in 1:length(levels(MyDF$Type.of.feeding.interaction))){
par(mfg = c(i,1))
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
}
dev.off() # close the graphic window
length(levels(MyDF$Type.of.feeding.interaction))
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
for (i in 1:length(levels(MyDF$Type.of.feeding.interaction))){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
}
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
for (i in 1:5){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
}
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(5,1)) #initialize multi-paneled plot
par(mfg = c(1,1))
FirstDF <- subset(MyDF, Type.of.feeding.interaction == "insectivorous")
hist(log10(FirstDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "blue", main = "Type of feeding interaction: insectivorous") # Add title
par(mfg = c(2,1))
SecondDF <- subset(MyDF, Type.of.feeding.interaction == "piscivorous")
hist(log10(SecondDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "green", main = "Type of feeding interaction: piscivorous") # Add title
par(mfg = c(3,1))
ThirdDF <- subset(MyDF, Type.of.feeding.interaction == "planktivorous")
hist(log10(ThirdDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "red", main = "Type of feeding interaction: planktivorous") # Add title
par(mfg = c(4,1))
FourthDF <- subset(MyDF, Type.of.feeding.interaction == "predacious")
hist(log10(FourthDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "yellow", main = "Type of feeding interaction: predacious") # Add title
par(mfg = c(5,1))
FifthDF <- subset(MyDF, Type.of.feeding.interaction == "predacious/piscivorous")
hist(log10(FifthDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = "Type of feeding interaction: predacious/piscivorous") # Add title
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
for (i in 1:5){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
#par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
}
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
for (i in 1:5){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
print(i)
par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
}
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
#par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
par(mfcol=c(5,1))
i <- 1
while (i <= 5){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
print(i)
par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "pink", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
i <- i + 1
}
dev.off() # close the graphic window
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
#par(mfcol=c(length(levels(MyDF$Type.of.feeding.interaction),1))) #initialize multi-paneled plot
n <- length(levels(MyDF$Type.of.feeding.interaction))
par(mfcol=c(n,1))
i <- 1
while (i <= n){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i])
print(i)
par(mfg = c(i,1))
hist(log10(plotDF$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "lightblue", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # Add title
i <- i + 1
}
dev.off() # close the graphic window
pdf("../results/Prey_Subplots.pdf") # save the second sub-plot
par(mfcol=c(n,1)) # initialize multi-paneled plot
i <- 1
while (i <= n){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i]) # extract the dataset by every feeding type at each iteration
par(mfg = c(i,1)) # specify which sub-plot to use in proper order
hist(log10(MyDF$Prey.mass), xlab = "log10(Prey Mass (g))", ylab = "Count", col = "orange", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # plot histogram including labels and title
i <- i + 1
}
dev.off() # close the graphic window
pdf("../results/Prey_Subplots.pdf") # save the second sub-plot
par(mfcol=c(n,1)) # initialize multi-paneled plot
i <- 1
while (i <= n){
plotDF <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i]) # extract the dataset by every feeding type at each iteration
par(mfg = c(i,1)) # specify which sub-plot to use in proper order
hist(log10(MyDF$Prey.mass), xlab = "log10(Prey Mass (g))", ylab = "Count", col = "yellow", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # plot histogram including labels and title
i <- i + 1
}
dev.off() # close the graphic window
n <- length(levels(MyDF$Type.of.feeding.interaction)) # calculate the number of feeding types
pdf("../results/Pred_Subplots.pdf") # save the first sub-plot
par(mfcol=c(n,1)) # initialize multi-paneled plot
i <- 1
while (i <= n){
plotDF1 <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i]) # extract the dataset by every feeding type at each iteration
par(mfg = c(i,1)) # specify which sub-plot to use in proper order
hist(log10(plotDF1$Predator.mass), xlab = "log10(Predator Mass (g))", ylab = "Count", col = "lightblue", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # plot histogram including labels and title
i <- i + 1
}
dev.off() # close the graphic window
pdf("../results/Prey_Subplots.pdf") # save the second sub-plot
par(mfcol=c(n,1)) # initialize multi-paneled plot
i <- 1
while (i <= n){
plotDF2 <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i]) # extract the dataset by every feeding type at each iteration
par(mfg = c(i,1)) # specify which sub-plot to use in proper order
hist(log10(plotDF2$Prey.mass), xlab = "log10(Prey Mass (g))", ylab = "Count", col = "yellow", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # plot histogram including labels and title
i <- i + 1
}
dev.off() # close the graphic window
pdf("../results/SizeRatio_Subplots.pdf") # save the third sub-plot
par(mfcol=c(n,1)) # initialize multi-paneled plot
i <- 1
while (i <= n){
plotDF3 <- subset(MyDF, Type.of.feeding.interaction == levels(MyDF$Type.of.feeding.interaction)[i]) # extract the dataset by every feeding type at each iteration
par(mfg = c(i,1)) # specify which sub-plot to use in proper order
hist(log10(plotDF3$Prey.mass / plotDF3$Predator.mass), xlab = "Size Ratio of Prey Mass over Predator Mass", ylab = "Count", col = "red", main = paste("Type of feeding interaction:", levels(MyDF$Type.of.feeding.interaction)[i])) # plot histogram including labels and title
i <- i + 1
}
dev.off() # close the graphic window
source("PP_Dists.R")
require(ggpubr)
# draw a scatter plot with the correlation coefficient
sp <- ggscatter(ats, x = "Year", y = "Temp",
add = "reg.line",  # add a regressin line to the plot
add.params = list(color = "blue", fill = "yellow"), # customize the regressin line
conf.int = TRUE # add the confidence interval
)
sp + stat_cor(method = "pearson") # add the correlation coefficient
source("Florida_warming.R")
sp
source("PP_Regress.R")
source("GPDD_Data.R")
source("GPDD_Data.R")
source("Florida_warming.R")
sp
source("Florida_warming.R")
sp
source("GPDD_Data.R")
